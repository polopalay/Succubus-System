slave_training_interaction = {
	category = interaction_category_prison
	desc = slave_training_interaction.desc
	common_interaction = yes
	cooldown = { months = 6 }
	cooldown_against_recipient = { months = 12 }
	is_shown = {
		scope:actor = {
			is_adult = yes
		}
		scope:recipient = {
			is_adult = yes
			has_trait = slave
			is_courtier_of = scope:actor
		}
	}
	auto_accept = yes
	on_accept = {
		scope:recipient = {
			if = {
				limit = { any_scheme = { scheme_type = murder scheme_target_character = scope:actor } }
				every_scheme = { limit = { scheme_type = murder scheme_target_character = scope:actor } end_scheme = yes }
			}
			else_if = {
				limit = {
					is_female = yes
					scope:actor = {
						is_female = no
						NOT = { trait_is_shunned_or_criminal_in_faith_or_liege_trigger = { TRAIT = adulterer } }
					}
				}
				scope:actor = {
					prostitute_effect = { PROSTITUTE = scope:recipient PREGNANCY_CHANCE = pregnancy_chance }
				}
			}
			else_if = {
				limit = {
					is_female = no
					scope:actor = {
						is_female = yes
						NOT = { trait_is_shunned_or_criminal_in_faith_or_liege_trigger = { TRAIT = adulterer } }
					}
				}
				scope:actor = {
					prostitute_effect = { PROSTITUTE = scope:recipient PREGNANCY_CHANCE = pregnancy_chance }
				}
			}
			else_if = {
				limit = { is_female = yes NOT = { has_trait = pregnant } }
				random_living_character = {
					limit = { is_adult = yes is_female = no can_have_children = yes }
					prostitute_effect = { PROSTITUTE = scope:recipient PREGNANCY_CHANCE = pregnancy_chance }
					weight = {
						base = 0
						modifier = {
							is_lowborn = yes
							add = 1
						}
						modifier = {
							is_courtier_of = scope:actor
							add = 10000
						}
						modifier = {
							has_trait = slave
							add = 1000
						}
					}
				}
			}
			else_if = {
				limit = { any_secret = { NOT = { is_known_by = scope:actor } } }
				random_secret = { limit = { NOT = { is_known_by = scope:actor } } reveal_to = scope:actor }
			}
			else_if = {
				limit = { NOT = { has_trait = wounded_1 has_trait = wounded_2 has_trait = wounded_3 } }
				add_trait = wounded_1
			}
			else_if = {
				limit = { NOT = { has_trait = wounded_2 has_trait = wounded_3 } }
				remove_trait = wounded_1
				add_trait = wounded_2
			}
			else_if = {
				limit = { NOT = { has_trait = wounded_3 } }
				remove_trait = wounded_2
				add_trait = wounded_3
			}
			else = {
				death = {
					death_reason = death_execution
					killer = scope:actor
				}
			}
		}
	}
	ai_targets = { ai_recipients = courtiers }
	ai_potential = { always = yes }
	ai_frequency = 6
	ai_will_do = {
		base = 50
		ai_value_modifier = {
			ai_vengefulness = 1
			ai_greed = 0.5
			ai_compassion = -1
			ai_honor = -0.5
			ai_rationality = -0.1
		}
		modifier = { scope:recipient = { is_immortal = yes is_female = yes } add = 100 }
		modifier = { scope:recipient = { has_trait = wounded_1 } add = -100 }
		modifier = { scope:recipient = { has_trait = wounded_2 } add = -200 }
		modifier = { scope:recipient = { has_trait = wounded_3 } add = -500 }
	}
}
